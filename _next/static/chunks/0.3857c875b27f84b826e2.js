"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{4e3:function(t,e,n){n.r(e),n.d(e,{default:function(){return M}});var i=n(5893),o=n(7294),r=n(5671),a=n(3144),l=n(4942),c=n(6841),s=n(6358),u=n(4607),d=function(){function t(){(0,r.Z)(this,t),console.log("Manager_cons")}return(0,a.Z)(t,null,[{key:"initialize",value:function(e,n,i){console.log("Manager_init"),t._width=n,t._height=i,t.app=new c.Application({view:e,resolution:window.devicePixelRatio||1,backgroundColor:12442586,autoDensity:!0,antialias:!1,width:n,height:i}),s.p8.registerPlugin(u.w),u.w.registerPIXI(c),t.app.ticker.stop(),s.p8.ticker.fps(60),s.p8.ticker.add((function(){t.app.ticker.update()})),t.app.ticker.add(t.update),console.log("a_1",t.currentScene),window.addEventListener("resize",t.resize),t.resize(),t.app.renderer.plugins.interaction.cursorStyles.Target="url('redTarget.png') 10 10, crosshair"}},{key:"resize",value:function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=Math.min(e/t.width,n/t.height),o=Math.floor(i*t.width),r=Math.floor(i*t.height),a=(e-o)/2,l=(n-r)/2;t.app.view.style.width="".concat(o,"px"),t.app.view.style.height="".concat(r,"px"),t.app.view.style.marginLeft=t.app.view.style.marginRight="".concat(a,"px"),t.app.view.style.marginTop=t.app.view.style.marginBottom="".concat(l,"px")}},{key:"changeScene",value:function(e){console.log("Manager_change"),console.log("a_2",t.currentScene),t.currentScene&&(console.log("Manager_destroy"),t.app.stage.removeChild(t.currentScene),t.currentScene.destroy()),t.currentScene=e,t.app.stage.addChild(t.currentScene),console.log("a_3",t.currentScene)}},{key:"update",value:function(){t.currentScene&&t.currentScene.update()}},{key:"width",get:function(){return t._width}},{key:"height",get:function(){return t._height}},{key:"wr",get:function(){return t._width/100}},{key:"hr",get:function(){return t._height/100}},{key:"scaleRatio",get:function(){return t.width/2160}}]),t}();(0,l.Z)(d,"app",void 0),(0,l.Z)(d,"currentScene",void 0),(0,l.Z)(d,"_width",void 0),(0,l.Z)(d,"_height",void 0);var h=n(819),f=n(7326),p=n(8558),g=n(2938),x=n(1120),v=n(2292),w=[{name:"highPointSE",url:"SE/highPoint.mp3"},{name:"normalPointSE",url:"SE/normalPoint.mp3"},{name:"missTargetSE",url:"SE/missTarget.mp3"},{name:"lostPointSE",url:"SE/lostPoint.mp3"},{name:"fontT",url:"fontText.json"}];function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,x.Z)(t);if(e){var o=(0,x.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,g.Z)(this,n)}}var T=function(t,e){return Math.random()*(e-t)+t},Z=function(t){var e=60-Math.pow(t/60,.8)+T(0,10);return(e=Math.floor(e))<5&&(e=5),e},y=function(t){(0,p.Z)(n,t);var e=m(n);function n(){var t;(0,r.Z)(this,n),t=e.call(this),(0,l.Z)((0,f.Z)(t),"startText",void 0),(0,l.Z)((0,f.Z)(t),"scoreText",void 0),(0,l.Z)((0,f.Z)(t),"lifeBar",void 0),(0,l.Z)((0,f.Z)(t),"targets",void 0),(0,l.Z)((0,f.Z)(t),"target_i",void 0),(0,l.Z)((0,f.Z)(t),"gameNow",void 0),(0,l.Z)((0,f.Z)(t),"tick",void 0),(0,l.Z)((0,f.Z)(t),"limit",void 0),(0,l.Z)((0,f.Z)(t),"score",void 0),(0,l.Z)((0,f.Z)(t),"interval",void 0),(0,l.Z)((0,f.Z)(t),"background",void 0),(0,l.Z)((0,f.Z)(t),"targetContainer",void 0),(0,l.Z)((0,f.Z)(t),"resultScreen",void 0),(0,l.Z)((0,f.Z)(t),"fpsText",void 0);var i=d.wr,o=d.hr;t.sortableChildren=!0,t.gameNow=!1,t.tick=0,t.limit=100,t.target_i=0,t.score=0,t.interval=Z(0),t.interactive=!0,t.cursor="Target",t.background=(new c.Graphics).beginFill(16250613).drawRect(0,0,100*i,100*o).endFill(),t.background.alpha=0,t.background.zIndex=1,t.background.interactive=!0,t.background.on("pointerdown",t.clickScreen,(0,f.Z)(t)),t.addChild(t.background),t.resultScreen=new S,t.resultScreen.zIndex=200,t.resultScreen.alpha=0,t.addChild(t.resultScreen),t.startText=new c.Text("3",{fill:"black",fontSize:96}),t.startText.anchor.set(.5),t.startText.position.set(50*i,50*o),t.startText.scale.set(d.scaleRatio),t.addChild(t.startText),t.lifeBar=(new c.Graphics).beginFill(139).drawRect(0,0,100*i,2*o).endFill(),t.lifeBar.position.x=100*-i,t.addChild(t.lifeBar),t.targets=new Array,t.targetContainer=new c.Container;for(var a=0;a<30;a++){var s=(new c.Graphics).beginFill(16775885).drawCircle(0,0,4*i).beginFill(16747520).drawCircle(0,0,1*i).endFill();s.interactive=!0,s.on("pointerdown",t.clickTarget,(0,f.Z)(t)),s.alpha=0,s.visible=!1,t.targetContainer.addChild(s),t.targets.push({Gtarget:s,key:a})}return t.targetContainer.zIndex=10,t.addChild(t.targetContainer),t.scoreText=new c.Text("Score: ".concat(t.score),{fontFamily:"RocknRoll One",fill:"black",fontSize:72}),t.scoreText.position.set(1*i,3*o),t.scoreText.scale.set(d.scaleRatio),t.addChild(t.scoreText),t.fpsText=new c.BitmapText("null",{fontName:"RocknRoll",tint:16711680,fontSize:96}),t.fpsText.text="0 fps",t.fpsText.position.set(90*i,96*o),t.fpsText.scale.set(.4*d.scaleRatio),t.addChild(t.fpsText),t.gameLoad(),t}return(0,a.Z)(n,[{key:"gameLoad",value:function(){var t=this;s.p8.to(this.lifeBar,{pixi:{x:0},duration:3}),s.p8.timeline().to(this.startText,{duration:1,onComplete:function(){t.startText.text="2"}}).to(this.startText,{duration:1,onComplete:function(){t.startText.text="1"}}).to(this.startText,{duration:1,onComplete:function(){return t.startGame()}})}},{key:"startGame",value:function(){console.log("gamestart"),this.removeChild(this.startText),this.startText.destroy(),this.gameNow=!0}},{key:"showTarget",value:function(){var t=this;if(this.gameNow){this.target_i<29?this.target_i++:this.target_i=0;var e=this.targets[this.target_i].Gtarget;e.position.set(d.wr*T(15,85),d.hr*T(15,85));var n=T(0,2*Math.PI),i=Math.cos(n)*d.wr*5,o=Math.sin(n)*d.wr*5,r=s.p8.timeline();e.visible=!0,r.to(e,{pixi:{x:"+="+i,y:"+="+o,alpha:1},duration:1,ease:"Power4.easeOut"}).to(e,{pixi:{x:"+="+i,y:"+="+o,alpha:0},duration:1,ease:"Power4.easeIn",onComplete:function(){t.limit-=8,e.visible=!1,v.eq.play("missTargetSE")}})}}},{key:"clickTarget",value:function(t){console.log("clickTARGET");var e,n,i=t.data.getLocalPosition(t.currentTarget);(e=i.x,n=i.y,Math.sqrt(Math.pow(e,2)+Math.pow(n,2)))<=d.wr?(console.log("1"),v.eq.play("highPointSE"),this.changeScore(21*(75-this.interval))):(console.log("2"),v.eq.play("normalPointSE"),this.changeScore(7*(75-this.interval))),this.limit<=98&&(this.limit+=2),s.p8.killTweensOf(t.currentTarget),t.currentTarget.alpha=0,t.currentTarget.visible=!1}},{key:"clickScreen",value:function(){this.gameNow&&(console.log("clickSCREEN"),v.eq.play("lostPointSE"),this.changeScore(-Math.ceil(.05*this.score)))}},{key:"changeScore",value:function(t){this.score+=t,this.scoreText.text="Score: ".concat(this.score)}},{key:"update",value:function(){if(this.gameNow){var t=s.p8.ticker.deltaRatio();this.tick+=t,this.limit-=t/20,this.applyCanvas(t),this.limit<=0?this.finishGame():this.limit<=20&&1===this.scoreText.alpha&&this.hideScore()}}},{key:"hideScore",value:function(){this.scoreText.alpha=.99,s.p8.to(this.scoreText,{pixi:{alpha:0},duration:1})}},{key:"applyCanvas",value:function(t){this.lifeBar.position.x=d.wr*(this.limit-100);var e=60/t;this.fpsText.text="".concat(e.toFixed(3)," fps"),this.createTarget()}},{key:"createTarget",value:function(){this.interval--,this.interval<=0&&(this.showTarget(),this.interval=Z(Math.round(this.tick)),console.log(this.interval))}},{key:"finishGame",value:function(){console.log("finish"),this.gameNow=!1,this.background.zIndex=150,this.cursor="auto",s.p8.killTweensOf(this.targetContainer.children),this.targetContainer.interactiveChildren=!1,S.scoreText.text="Score: ".concat(this.score),s.p8.to(this.resultScreen,{pixi:{alpha:1},duration:3}),s.p8.to(this.background,{pixi:{alpha:.5},duration:3})}}]),n}(c.Container),S=function(t){(0,p.Z)(n,t);var e=m(n);function n(){var t;(0,r.Z)(this,n),t=e.call(this),(0,l.Z)((0,f.Z)(t),"returnMenuText",void 0);var i=d.wr,o=d.hr;return n.scoreText=new c.Text("Score: Null",{fill:"black",fontSize:96}),n.scoreText.anchor.set(.5),n.scoreText.position.set(50*i,30*o),n.scoreText.scale.set(d.scaleRatio),t.addChild(n.scoreText),t.returnMenuText=new c.Text("Return Menu",{fill:"black",fontSize:72}),t.returnMenuText.anchor.set(.5),t.returnMenuText.position.set(50*i,70*o),t.returnMenuText.scale.set(d.scaleRatio),t.returnMenuText.interactive=!0,t.returnMenuText.buttonMode=!0,t.returnMenuText.on("pointerdown",(function(){return d.changeScene(new B)}),(0,f.Z)(t)),t.addChild(t.returnMenuText),t}return n}(c.Container);function k(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,x.Z)(t);if(e){var o=(0,x.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,g.Z)(this,n)}}(0,l.Z)(S,"scoreText",void 0);var B=function(t){(0,p.Z)(n,t);var e=k(n);function n(){var t;(0,r.Z)(this,n),t=e.call(this),(0,l.Z)((0,f.Z)(t),"menuText",void 0),(0,l.Z)((0,f.Z)(t),"Button1Text",void 0),(0,l.Z)((0,f.Z)(t),"Button2Text",void 0),(0,l.Z)((0,f.Z)(t),"Start1Button",void 0),(0,l.Z)((0,f.Z)(t),"Start2Button",void 0),console.log("fuck",c.BitmapFont.available);var i=d.wr,o=d.hr;return t.menuText=new c.BitmapText("AIM PRACTICE on WEB!",{fontName:"RocknRoll",tint:0,fontSize:96}),t.menuText.anchor.set(.5),t.menuText.position.set(50*i,30*o),t.menuText.scale.set(d.scaleRatio),t.addChild(t.menuText),t.Start1Button=(new c.Graphics).lineStyle(2,16316671,1).beginFill(16761035).drawRoundedRect(30*i,65*o,40*i,10*o,i).endFill(),t.Start1Button.interactive=!0,t.Start1Button.buttonMode=!0,t.Start1Button.on("pointertap",(function(){return d.changeScene(new y)}),(0,f.Z)(t)),t.addChild(t.Start1Button),t.Start2Button=(new c.Graphics).lineStyle(2,16316671,1).beginFill(9109643).drawRoundedRect(30*i,80*o,40*i,10*o,i).endFill(),t.Start2Button.alpha=.1,t.addChild(t.Start2Button),t.Button1Text=new c.Text("Start Game",{fontFamily:"RocknRoll One",fill:"black",fontSize:48}),t.Button1Text.anchor.set(.5),t.Button1Text.position.set(50*i,70*o),t.Button1Text.scale.set(d.scaleRatio),t.addChild(t.Button1Text),t.Button2Text=new c.Text("Coming soon...",{fill:"black",fontSize:48}),t.Button2Text.anchor.set(.5),t.Button2Text.position.set(50*i,85*o),t.Button2Text.scale.set(d.scaleRatio),t.Button2Text.alpha=.1,t.addChild(t.Button2Text),t}return(0,a.Z)(n,[{key:"update",value:function(){}}]),n}(c.Container);function R(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,x.Z)(t);if(e){var o=(0,x.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,g.Z)(this,n)}}var C=function(t){(0,p.Z)(n,t);var e=R(n);function n(){var t;(0,r.Z)(this,n),t=e.call(this),(0,l.Z)((0,f.Z)(t),"loaderBar",void 0),(0,l.Z)((0,f.Z)(t),"loaderBarBoder",void 0),(0,l.Z)((0,f.Z)(t),"loaderBarFill",void 0),(0,l.Z)((0,f.Z)(t),"text",void 0),console.log("Loader_cons"),console.log("resolution",window.devicePixelRatio),console.log("ratio",d.scaleRatio);var i=.8*d.width;return t.loaderBarFill=new c.Graphics,t.loaderBarFill.beginFill(10027263,1),t.loaderBarFill.drawRect(0,0,i,50*d.scaleRatio),t.loaderBarFill.endFill(),t.loaderBarFill.scale.x=0,t.loaderBarBoder=new c.Graphics,t.loaderBarBoder.lineStyle(10,0,1),t.loaderBarBoder.drawRect(0,0,i,50*d.scaleRatio),t.loaderBar=new c.Container,t.loaderBar.addChild(t.loaderBarFill),t.loaderBar.addChild(t.loaderBarBoder),t.loaderBar.position.x=(d.width-t.loaderBar.width)/2,t.loaderBar.position.y=(d.height-t.loaderBar.height)/2,t.addChild(t.loaderBar),t.text=new c.Text("\u753b\u9762\u304c\u304a\u304b\u3057\u304f\u306a\u3063\u305f\u3068\u304d\u306f\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u306d\uff01",{fontFamily:"RocknRoll One",fill:"black",fontSize:96}),t.text.anchor.set(.5),t.text.position.set(d.width/2,d.height/2),t.text.scale.set(d.scaleRatio),t.text.alpha=0,t.addChild(t.text),c.Loader.shared.add(w),c.Loader.shared.onProgress.add(t.downloadProgress,(0,f.Z)(t)),c.Loader.shared.onComplete.once(t.gameLoaded,(0,f.Z)(t)),c.Loader.shared.load(),t}return(0,a.Z)(n,[{key:"downloadProgress",value:function(t){console.log("Loader_downloadProgress");var e=t.progress/100;this.loaderBarFill.scale.x=e}},{key:"gameLoaded",value:function(){var t=this;this.initSetting(),s.p8.timeline().to(this.loaderBar,{pixi:{alpha:0},duration:.1}).to(this.text,{pixi:{y:"-="+d.height/16,alpha:1},duration:.5,yoyo:!0,repeat:1,onComplete:function(){t.text.text="\u203b\u97f3\u304c\u51fa\u307e\u3059"}}).to(this.text,{pixi:{y:"-="+d.height/16,alpha:1},duration:.5,yoyo:!0,repeat:1,onComplete:function(){return d.changeScene(new B)}})}},{key:"initSetting",value:function(){var t;this.setAssetsVolume(),(t=console).log.apply(t,(0,h.Z)(c.Loader.shared.resources.fontT.data.text)),c.BitmapFont.from("RocknRoll",{fontFamily:"RocknRoll One",fill:"#ffffff",fontSize:96},{resolution:4,chars:[["0","9"],["a","z"],["A","Z"],".,/`~:;'-_=+!@#$%^&*()~{}[] "].concat((0,h.Z)(c.Loader.shared.resources.fontT.data.text))})}},{key:"setAssetsVolume",value:function(){v.eq.volumeAll=.5}},{key:"update",value:function(){console.log("Loader_update")}}]),n}(c.Container),M=function(){var t=(0,o.useRef)(null);return(0,o.useEffect)((function(){var e=t.current;if(e){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0);d.initialize(e,n,i);var o=new C;d.changeScene(o)}}),[]),(0,i.jsx)("canvas",{ref:t})}}}]);